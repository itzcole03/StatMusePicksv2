version: '3.8'
services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: statmuse_backend
    ports:
      - "3002:3002"
    environment:
      - REDIS_URL=${REDIS_URL:-}
    depends_on: []

  # Optional Redis for caching; enable by setting REDIS=1 and running `docker compose up redis`
  redis:
    image: redis:7-alpine
    container_name: statmuse_redis
    ports:
      - "6379:6379"
